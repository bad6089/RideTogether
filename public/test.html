<!DOCTYPE html>
<html>
<head>
  <title>Location Autocomplete Test</title>
</head>
<body>
  <input type="text" id="searchInput" placeholder="Search for a location">
  <ul id="suggestionsList"></ul>

  <script>
    const searchInput = document.getElementById('searchInput');
    const suggestionsList = document.getElementById('suggestionsList');

    searchInput.addEventListener('input', async () => {
      const searchTerm = searchInput.value;
      if (searchTerm.length >= 3) {
        try {
          const response = await fetch(`http://localhost:3001/api/locations/autocomplete?q=${searchTerm}`);
          const suggestions = await response.json();

          suggestionsList.innerHTML = ''; // Clear previous suggestions
          suggestions.forEach(suggestion => {
            const listItem = document.createElement('li');
            listItem.textContent = suggestion.name;
            suggestionsList.appendChild(listItem);
          });
        } catch (error) {
          console.error('Error fetching suggestions:', error);
        }
      }
    });
  </script>
</body>
</html>
